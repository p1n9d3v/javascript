# Scope

- 식별자 해결을 위해 사용
- 내부 프로퍼티로 `[[Scope]]`에 스코프를 설정
- 엔진이 `function` 키워드를 만나면 Function 오브젝트를 생성하고 `[[Scope]]`를 설정한다.
- `[[Scope]]`에는 해당 함수가 속한(함수밖)의 스코프를 바인

## Engine 해석 순서

```js
function store() {
  function book() {}

  book();
}
```

1. 엔진이 function book을 만난다
2. function 오브젝트를 생성해서 book 변수에 할당한다
3. 생성된 function 오브젝트의 내부 프로퍼티인 [[scope]] 에 book 함수가 속한 (함수밖)의 스코프를 바인딩한다
4. book 함수를 호출한다
5. book 함수에 실행 컨텍스트 객체를 생성해 첨부한다
6. 생성된 실행 컨텍스트에 렉시컬 환경 컴포넌트, 변수 환경 컴포넌트, this 바인딩 컴포넌트를 생성해 첨부한다
7. 렉시컬 환경 컴포넌트에 환경 레코드를 생성해서 첨부한다
8. 렉시컬 환경 컴포넌트에 외부 렉시컬 환경 참조를 생성해서 첨부한다
9. 외부 렉시컬 환경 참조에는 book function 의 [[scope]] 값이 반인딩 된다
10. 환경 레코드(선언전 환경 레코드)에 book 함수 안의 변수와 함수가 설정된다
